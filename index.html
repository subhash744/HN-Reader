<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HN Reader â€” Hacker News, Beautiful</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=IBM+Plex+Mono:wght@400;500&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   THEME VARIABLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
[data-theme="dark"] {
  --bg: #0f0e0c;
  --surface: #181714;
  --surface2: #201e1a;
  --surface3: #272420;
  --border: rgba(255,220,150,0.08);
  --accent: #ff6b2b;
  --accent2: #ffb347;
  --accent3: #ffd580;
  --text: #f2ede4;
  --muted: #7a7060;
  --muted2: #a09080;
  --shadow: rgba(0,0,0,0.5);
  --hero-grad: linear-gradient(135deg, #1a1208 0%, #0f0e0c 100%);
}

[data-theme="light"] {
  --bg: #faf8f5;
  --surface: #ffffff;
  --surface2: #f5f2ed;
  --surface3: #ece8e1;
  --border: rgba(0,0,0,0.08);
  --accent: #e85d1a;
  --accent2: #d4820a;
  --accent3: #b06a00;
  --text: #1a1612;
  --muted: #9a8f82;
  --muted2: #6b6058;
  --shadow: rgba(0,0,0,0.1);
  --hero-grad: linear-gradient(135deg, #fff5ec 0%, #faf8f5 100%);
}

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Plus Jakarta Sans', sans-serif;
  min-height: 100vh;
  overflow-x: hidden;
  transition: background 0.3s, color 0.3s;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NAV
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
nav {
  position: sticky; top: 0; z-index: 200;
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 32px; height: 58px;
  background: var(--bg);
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(24px);
  gap: 16px;
}

.logo {
  font-family: 'IBM Plex Mono', monospace;
  font-size: 15px; font-weight: 700;
  color: var(--text);
  display: flex; align-items: center; gap: 9px;
  flex-shrink: 0; cursor: pointer; text-decoration: none;
}
.logo-box {
  width: 32px; height: 32px; border-radius: 7px;
  background: var(--accent); color: #fff;
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; font-weight: 900;
}

.search-wrap {
  display: flex; align-items: center; gap: 9px;
  background: var(--surface2); border: 1px solid var(--border);
  border-radius: 10px; padding: 8px 14px; flex: 1; max-width: 380px;
  transition: border-color 0.2s, box-shadow 0.2s;
}
.search-wrap:focus-within { border-color: rgba(232,93,26,0.4); box-shadow: 0 0 0 3px rgba(232,93,26,0.08); }
.search-wrap input { background: none; border: none; outline: none; color: var(--text); font-family: 'Plus Jakarta Sans', sans-serif; font-size: 13px; width: 100%; }
.search-wrap input::placeholder { color: var(--muted); }

.nav-tabs { display: flex; gap: 2px; flex-shrink: 0; }
.nav-tab {
  padding: 6px 13px; border-radius: 8px; font-size: 12px; font-weight: 500;
  cursor: pointer; border: none; background: none; color: var(--muted);
  font-family: 'Plus Jakarta Sans', sans-serif; transition: all 0.15s; white-space: nowrap;
}
.nav-tab:hover { color: var(--text); background: var(--surface2); }
.nav-tab.active { background: var(--accent); color: #fff; }

/* THEME TOGGLE */
.theme-toggle {
  background: var(--surface2); border: 1px solid var(--border);
  border-radius: 8px; padding: 6px 10px; cursor: pointer;
  font-size: 16px; flex-shrink: 0; transition: all 0.2s;
  display: flex; align-items: center;
}
.theme-toggle:hover { border-color: var(--accent); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.page { max-width: 1240px; margin: 0 auto; padding: 24px 32px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   AD SLOTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
/*
  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
  â•‘  AD PLACEMENT GUIDE                                          â•‘
  â•‘                                                              â•‘
  â•‘  TO PLACE ADS: Find the div with id="adSlot1" etc.           â•‘
  â•‘  and paste your AdSense / Carbon / EthicalAds code inside.  â•‘
  â•‘                                                              â•‘
  â•‘  GOOGLE ADSENSE CODE TEMPLATE:                               â•‘
  â•‘  <script async src="https://pagead2.googlesyndication.com/   â•‘
  â•‘    pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXX"          â•‘
  â•‘    crossorigin="anonymous"></script>                          â•‘
  â•‘  <ins class="adsbygoogle"                                    â•‘
  â•‘    style="display:block"                                     â•‘
  â•‘    data-ad-client="ca-pub-XXXXXXXX"                          â•‘
  â•‘    data-ad-slot="XXXXXXXXXX"                                 â•‘
  â•‘    data-ad-format="auto"                                     â•‘
  â•‘    data-full-width-responsive="true"></ins>                  â•‘
  â•‘  <script>(adsbygoogle=window.adsbygoogle||[]).push({})</script>â•‘
  â•‘                                                              â•‘
  â•‘  CARBON ADS (best for devs, pays 3-5x more than AdSense):   â•‘
  â•‘  <script async type="text/javascript"                        â•‘
  â•‘    src="//cdn.carbonads.com/carbon.js?serve=YOUR_CODE        â•‘
  â•‘    &placement=yourdomain" id="_carbonads_js"></script>       â•‘
  â•‘                                                              â•‘
  â•‘  ETHICAL ADS (easiest approval for dev sites):               â•‘
  â•‘  <div data-ea-publisher="yourdomain"                         â•‘
  â•‘       data-ea-type="image"></div>                            â•‘
  â•‘  <script async src="https://media.ethicalads.io/media/       â•‘
  â•‘    client/ethicalads.min.js"></script>                       â•‘
  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
*/

.ad-slot {
  border-radius: 12px; border: 1px dashed rgba(232,93,26,0.2);
  background: rgba(232,93,26,0.03);
  display: flex; align-items: center; justify-content: center;
  color: var(--muted); font-size: 11px; letter-spacing: 1.5px;
  text-transform: uppercase; position: relative;
  font-family: 'IBM Plex Mono', monospace; text-align: center;
}
.ad-slot::before {
  content: 'ad'; position: absolute; top: 7px; right: 10px;
  font-size: 9px; letter-spacing: 2px; color: var(--muted); opacity: 0.4;
  text-transform: uppercase;
}
.ad-leaderboard { min-height: 90px; width: 100%; margin-bottom: 24px; }
.ad-rectangle { width: 300px; min-height: 250px; flex-shrink: 0; }
.ad-inline { min-height: 90px; width: 100%; margin: 24px 0; }


/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   AD SLOTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.ad-slot-wrap {
  width: 100%; min-height: 0;
  display: flex; justify-content: center; align-items: center;
  margin: 0 0 20px;
}
/* When ad is empty, collapse completely */
.ad-slot-wrap:empty { display: none; }
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HERO â€” TREEMAP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.hero-treemap {
  display: grid;
  grid-template-columns: 1.7fr 1.2fr 0.9fr;
  grid-template-rows: 185px 160px;
  gap: 10px; margin-bottom: 24px;
}
.tm-slot-1 { grid-column:1; grid-row:1/3; }
.tm-slot-2 { grid-column:2; grid-row:1; }
.tm-slot-3 { grid-column:2; grid-row:2; }
.tm-slot-4 { grid-column:3; grid-row:1; }
.tm-slot-5 { grid-column:3; grid-row:2; }
.tm-card {
  border: 1px solid var(--border); border-radius: 16px;
  padding: 18px 20px; cursor: pointer; text-decoration: none; color: inherit;
  display: flex; flex-direction: column; justify-content: flex-end;
  position: relative; overflow: hidden; background: var(--surface);
  transition: border-color 0.2s, transform 0.2s, box-shadow 0.2s;
}
.tm-card:hover { border-color: rgba(232,93,26,0.4); transform: translateY(-2px); box-shadow: 0 8px 28px var(--shadow); }
.tm-favicon {
  position: absolute; top: 14px; left: 16px;
  width: 32px; height: 32px; border-radius: 8px;
  background: var(--surface2); object-fit: contain; border: 1px solid var(--border);
}
.tm-slot-1 .tm-favicon { width: 40px; height: 40px; border-radius: 10px; }
.tm-rank {
  position: absolute; top: 12px; right: 14px;
  font-family: 'IBM Plex Mono', monospace; font-size: 11px; font-weight: 600;
  color: var(--muted); background: var(--surface2); border: 1px solid var(--border);
  padding: 2px 8px; border-radius: 20px;
}
.tm-title {
  font-size: 13px; font-weight: 600; line-height: 1.4;
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
  margin-bottom: 7px;
}
.tm-slot-1 .tm-title {
  font-family: 'Playfair Display', serif; font-size: 20px; font-weight: 900;
  line-height: 1.25; -webkit-line-clamp: 4; margin-bottom: 10px;
}
.tm-meta { display: flex; align-items: center; gap: 10px; font-size: 11px; color: var(--muted); font-family: 'IBM Plex Mono', monospace; }
.tm-pts { color: var(--accent); font-weight: 700; }
.tm-domain { background: var(--surface2); border: 1px solid var(--border); border-radius: 5px; padding: 1px 6px; font-size: 10px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 100px; }
.tm-skel { border-radius: 16px; background: linear-gradient(90deg, var(--surface) 25%, var(--surface2) 50%, var(--surface) 75%); background-size: 200% 100%; animation: shimmer 1.4s infinite; }
@media (max-width: 768px) {
  .hero-treemap { grid-template-columns:1fr 1fr; grid-template-rows:auto; }
  .tm-slot-1 { grid-column:1/3; grid-row:1; min-height:160px; }
  .tm-slot-2 { grid-column:1; grid-row:2; }
  .tm-slot-3 { grid-column:2; grid-row:2; }
  .tm-slot-4 { grid-column:1; grid-row:3; }
  .tm-slot-5 { grid-column:2; grid-row:3; }
}
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SECTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.sec-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 14px; }
.sec-title { font-family: 'Playfair Display', serif; font-size: 20px; font-weight: 700; }
.sec-more {
  font-size: 12px; color: var(--accent); cursor: pointer;
  font-family: 'IBM Plex Mono', monospace;
  background: none; border: none; font-weight: 600;
  padding: 5px 12px; border-radius: 6px;
  transition: background 0.15s;
}
.sec-more:hover { background: var(--surface2); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCROLL ROW (horizontal)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.scroll-row {
  display: flex; gap: 12px; overflow-x: auto;
  padding-bottom: 8px; scrollbar-width: thin;
  scrollbar-color: var(--surface3) transparent;
  margin-bottom: 8px;
}
.scroll-row::-webkit-scrollbar { height: 4px; }
.scroll-row::-webkit-scrollbar-track { background: transparent; }
.scroll-row::-webkit-scrollbar-thumb { background: var(--surface3); border-radius: 4px; }

.story-card {
  min-width: 220px; max-width: 220px;
  background: var(--surface); border: 1px solid var(--border);
  border-radius: 14px; padding: 16px; cursor: pointer;
  transition: all 0.2s; text-decoration: none; color: inherit;
  display: flex; flex-direction: column;
}
.story-card:hover { border-color: rgba(232,93,26,0.35); transform: translateY(-4px); box-shadow: 0 12px 32px var(--shadow); }
.story-card-rank { font-family: 'IBM Plex Mono', monospace; font-size: 10px; color: var(--muted); margin-bottom: 9px; }
.story-card-title { font-size: 13px; font-weight: 600; line-height: 1.45; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; margin-bottom: 10px; flex: 1; }
.story-card-domain { font-size: 11px; color: var(--muted); font-family: 'IBM Plex Mono', monospace; margin-bottom: 10px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.story-card-footer { display: flex; align-items: center; justify-content: space-between; border-top: 1px solid var(--border); padding-top: 9px; margin-top: auto; }
.pts-badge { background: rgba(232,93,26,0.1); color: var(--accent); border-radius: 6px; padding: 3px 8px; font-size: 11px; font-weight: 600; font-family: 'IBM Plex Mono', monospace; }
.cmts { font-size: 11px; color: var(--muted); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TWO COLUMN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.two-col { display: grid; grid-template-columns: 1fr 300px; gap: 20px; align-items: start; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RANK PANEL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.rank-panel { background: var(--surface); border: 1px solid var(--border); border-radius: 14px; overflow: hidden; }
.rank-panel-header { padding: 13px 18px; border-bottom: 1px solid var(--border); font-size: 12px; font-weight: 600; font-family: 'IBM Plex Mono', monospace; color: var(--muted2); }
.rank-row { display: flex; align-items: flex-start; gap: 11px; padding: 12px 18px; border-bottom: 1px solid var(--border); cursor: pointer; transition: background 0.15s; text-decoration: none; color: inherit; }
.rank-row:last-child { border-bottom: none; }
.rank-row:hover { background: var(--surface2); }
.rank-n { font-family: 'IBM Plex Mono', monospace; font-size: 13px; font-weight: 700; color: var(--muted); min-width: 18px; padding-top: 1px; }
.rank-n.gold { color: var(--accent); }
.rank-n.silver { color: var(--accent2); }
.rank-body { flex: 1; min-width: 0; }
.rank-title { font-size: 13px; font-weight: 600; line-height: 1.4; margin-bottom: 3px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.rank-meta { font-size: 11px; color: var(--muted); font-family: 'IBM Plex Mono', monospace; }
.rank-pts { font-size: 12px; color: var(--accent); font-weight: 600; font-family: 'IBM Plex Mono', monospace; flex-shrink: 0; padding-top: 2px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FULL LIST (See All / Load More view)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.full-list { display: flex; flex-direction: column; gap: 10px; }
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DATE DIVIDER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */





.full-card {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: 12px; padding: 13px 15px;
  display: flex; align-items: center; gap: 13px;
  text-decoration: none; color: inherit;
  transition: all 0.2s; cursor: pointer;
}
.full-card:hover { border-color: rgba(232,93,26,0.35); transform: translateX(3px); box-shadow: 0 4px 16px var(--shadow); }
.full-card-num { font-family: 'IBM Plex Mono', monospace; font-size: 12px; font-weight: 700; color: var(--muted); min-width: 24px; flex-shrink: 0; text-align: right; }
.full-card-thumb {
  width: 72px; height: 52px; border-radius: 8px; flex-shrink: 0;
  object-fit: cover; background: var(--surface2); border: 1px solid var(--border);
  transition: opacity 0.4s ease;
}
.full-card-thumb[data-loading] { opacity: 0; }
.full-card-favicon-wrap {
  width: 72px; height: 52px; border-radius: 8px; flex-shrink: 0;
  background: var(--surface2); border: 1px solid var(--border);
  display: flex; align-items: center; justify-content: center;
}
.full-card-body { flex: 1; min-width: 0; }
.full-card-title { font-size: 14px; font-weight: 600; line-height: 1.38; margin-bottom: 5px;
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.full-card-meta { display: flex; gap: 11px; font-size: 11px; color: var(--muted); flex-wrap: wrap; align-items: center; }
.full-card-pts { color: var(--accent); font-weight: 700; }


/* LOAD MORE BUTTON */
.load-more-btn {
  width: 100%; padding: 14px;
  background: var(--surface); border: 1px solid var(--border);
  border-radius: 12px; color: var(--accent);
  font-family: 'IBM Plex Mono', monospace; font-size: 13px; font-weight: 600;
  cursor: pointer; transition: all 0.2s; margin-top: 12px;
  letter-spacing: 0.5px;
}
.load-more-btn:hover { background: var(--accent); color: #fff; border-color: var(--accent); }
.load-more-btn:disabled { opacity: 0.5; cursor: not-allowed; }
.load-more-btn.loading::after { content: ' â€¦'; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SEARCH RESULTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.results-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px,1fr)); gap: 12px; margin-bottom: 24px; }
.result-card { background: var(--surface); border: 1px solid var(--border); border-radius: 13px; padding: 16px; cursor: pointer; transition: all 0.2s; text-decoration: none; color: inherit; }
.result-card:hover { border-color: rgba(232,93,26,0.3); transform: translateY(-2px); }
.result-card-title { font-size: 14px; font-weight: 600; line-height: 1.4; margin-bottom: 7px; }
.result-card-domain { font-size: 11px; color: var(--muted); font-family: 'IBM Plex Mono', monospace; margin-bottom: 9px; }
.result-card-footer { display: flex; gap: 12px; font-size: 12px; color: var(--muted); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SKELETON
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.skel { background: linear-gradient(90deg, var(--surface) 25%, var(--surface2) 50%, var(--surface) 75%); background-size: 200% 100%; animation: shimmer 1.4s infinite; border-radius: 10px; }
@keyframes shimmer { 0%{background-position:200% 0} 100%{background-position:-200% 0} }
.skel-card { min-width: 220px; height: 180px; border-radius: 14px; }
.skel-hero { height: 260px; border-radius: 20px; }
.skel-row { height: 68px; border-radius: 12px; margin-bottom: 10px; }

/* FADE */
@keyframes fadeUp { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:translateY(0)} }
.fade { animation: fadeUp 0.3s ease both; }

/* LOADING TEXT */
.loading-text { color: var(--muted); font-size: 13px; padding: 20px; font-family: 'IBM Plex Mono', monospace; text-align: center; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BACK BUTTON
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.back-btn {
  display: inline-flex; align-items: center; gap: 6px;
  background: var(--surface2); border: 1px solid var(--border);
  border-radius: 8px; padding: 7px 14px; cursor: pointer;
  font-size: 13px; color: var(--muted); margin-bottom: 16px;
  font-family: 'IBM Plex Mono', monospace; transition: all 0.15s;
}
.back-btn:hover { color: var(--text); border-color: var(--accent); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SECTION VISIBILITY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.section { margin-bottom: 28px; }
#searchSection { display: none; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FOOTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
footer {
  border-top: 1px solid var(--border); padding: 22px 32px;
  display: flex; align-items: center; justify-content: space-between;
  color: var(--muted); font-size: 12px; font-family: 'IBM Plex Mono', monospace;
}
.footer-logo { color: var(--accent); font-weight: 600; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FOOTER + MODAL PAGES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.site-footer {
  border-top: 1px solid var(--border);
  padding: 28px 32px;
  margin-top: 40px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 16px;
  font-size: 12px;
  color: var(--muted);
  font-family: 'IBM Plex Mono', monospace;
}
.footer-brand { color: var(--accent); font-weight: 700; font-size: 14px; }
.footer-links { display: flex; gap: 20px; flex-wrap: wrap; }
.footer-link {
  color: var(--muted); text-decoration: none; cursor: pointer;
  transition: color 0.15s;
}
.footer-link:hover { color: var(--accent); }

/* MODAL */
.modal-overlay {
  display: none; position: fixed; inset: 0; z-index: 999;
  background: rgba(0,0,0,0.7); backdrop-filter: blur(4px);
  align-items: center; justify-content: center; padding: 20px;
}
.modal-overlay.open { display: flex; }
.modal-box {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: 16px; max-width: 680px; width: 100%;
  max-height: 80vh; overflow-y: auto;
  padding: 32px; position: relative;
  animation: fadeUp 0.25s ease both;
}
.modal-close {
  position: absolute; top: 16px; right: 16px;
  width: 32px; height: 32px; border-radius: 8px;
  border: 1px solid var(--border); background: var(--surface2);
  color: var(--muted); cursor: pointer; font-size: 16px;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.15s;
}
.modal-close:hover { border-color: var(--accent); color: var(--accent); }
.modal-title {
  font-family: 'Playfair Display', serif; font-size: 22px; font-weight: 700;
  margin-bottom: 20px; color: var(--text);
}
.modal-body { font-size: 13.5px; line-height: 1.75; color: var(--muted2); }
.modal-body h3 { font-size: 14px; font-weight: 700; color: var(--text); margin: 20px 0 8px; }
.modal-body p { margin-bottom: 12px; }
.modal-body a { color: var(--accent); }
.modal-updated { font-size: 11px; font-family: 'IBM Plex Mono', monospace; color: var(--muted); margin-bottom: 20px; }
</style>
</head>
<body>

<nav>
  <div class="logo"><div class="logo-dot"></div><span class="logo-text">HN <em>Reader</em></span></div>
  <div class="search-wrap">
    <svg width="13" height="13" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" style="color:var(--muted);flex-shrink:0"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
    <input type="text" id="searchInput" placeholder="Search Hacker Newsâ€¦">
  </div>
  <div class="nav-tabs">
    <button class="nav-tab active" data-feed="topstories" data-label="ğŸ”¥ Top Stories">ğŸ”¥ Top</button>
    <button class="nav-tab" data-feed="newstories" data-label="ğŸ†• New Stories">ğŸ†• New</button>
    <button class="nav-tab" data-feed="beststories" data-label="â­ Best Stories">â­ Best</button>
    <button class="nav-tab" data-feed="askstories" data-label="ğŸ’¬ Ask HN">ğŸ’¬ Ask</button>
    <button class="nav-tab" data-feed="showstories" data-label="ğŸš€ Show HN">ğŸš€ Show</button>
    <button class="nav-tab" data-feed="jobstories" data-label="ğŸ’¼ Jobs">ğŸ’¼ Jobs</button>
  </div>
  <button class="theme-toggle" id="themeToggle" title="Toggle light/dark mode">ğŸŒ™</button>
</nav>

<div class="page">

  <!-- HOME VIEW -->
  <div id="homeView">

    <!-- HERO TREEMAP -->
    <div class="section">
      <div class="hero-treemap" id="heroTreemap">
        <div class="tm-skel tm-slot-1"></div>
        <div class="tm-skel tm-slot-2"></div>
        <div class="tm-skel tm-slot-3"></div>
        <div class="tm-skel tm-slot-4"></div>
        <div class="tm-skel tm-slot-5"></div>
      </div>
    </div>


  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       AD SLOT â€” LEADERBOARD (728x90)
       Paste your Google AdSense / Carbon Ads code below
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="ad-slot-wrap" id="adSlotTop">
    <!-- PASTE AD CODE HERE -->
  </div>
    <!-- STORY TABLE -->
    <div class="section">
      <div class="sec-header">
        <div class="sec-title" id="storyTableTitle">Stories</div>
        <span id="storyCountBadge" style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace"></span>
      </div>
      <div class="full-list" id="storyTableList">
        <div class="skel skel-row"></div>
        <div class="skel skel-row"></div>
        <div class="skel skel-row"></div>
        <div class="skel skel-row"></div>
        <div class="skel skel-row"></div>
        <div class="skel skel-row"></div>
        <div class="skel skel-row"></div>
        <div class="skel skel-row"></div>
      </div>
      <button class="load-more-btn" id="loadMoreBtn" style="display:none;margin-top:12px">Load More Stories</button>
    </div>


  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       AD SLOT â€” BOTTOM (728x90)
       Paste your Google AdSense / Carbon Ads code below
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="ad-slot-wrap" id="adSlotBottom">
    <!-- PASTE AD CODE HERE -->
  </div>

  </div><!-- /homeView -->

  <!-- SEARCH RESULTS -->
  <div id="searchSection" style="display:none">
    <div class="sec-header">
      <div class="sec-title" id="searchTitle">Results</div>
    </div>
    <div class="results-grid" id="searchGrid"></div>
  </div>

</div><!-- /page -->

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HACKERNEWS API â€” UNLIMITED, NO KEY, NO RATE LIMIT
   Base: https://hacker-news.firebaseio.com/v0/
   Search: https://hn.algolia.com/api/v1/ (also free)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

const HN = 'https://hacker-news.firebaseio.com/v0';
const ALGOLIA = 'https://hn.algolia.com/api/v1';

// â”€â”€ CACHE (reduces duplicate fetches) â”€â”€
const cache = {};
function setCache(key, val, ttl = 300000) {
  cache[key] = { val, exp: Date.now() + ttl };
}
function getCache(key) {
  const c = cache[key];
  if (c && Date.now() < c.exp) return c.val;
  return null;
}

async function hnGet(path) {
  const cached = getCache(path);
  if (cached !== null) return cached;
  const res = await fetch(HN + path + '.json');
  const data = await res.json();
  setCache(path, data);
  return data;
}

// Fetch feed IDs (cached 3 min)
async function getFeedIds(feed) {
  const cached = getCache(`ids_${feed}`);
  if (cached) return cached;
  const ids = await hnGet(`/${feed}`);
  setCache(`ids_${feed}`, ids, 180000);
  return ids;
}

// Fetch a batch of story items by IDs
async function fetchBatch(ids) {
  return Promise.all(ids.map(id => hnGet(`/item/${id}`)));
}

// â”€â”€ STATE â”€â”€
let currentFeed = 'topstories';
let currentFeedLabel = 'ğŸ”¥ Top Stories';
let allFeedIds = [];
let loadedCount = 0;
const PAGE_SIZE = 20;
let seeAllMode = false;

// â”€â”€ CARD TEMPLATES â”€â”€
function storyCardHTML(item, rank) {
  if (!item) return '';
  const link = item.url || `https://news.ycombinator.com/item?id=${item.id}`;
  return `
    <a class="story-card fade" href="${link}" target="_blank" rel="noopener">
      <div class="story-card-rank">#${rank + 1} Â· ${timeAgo(item.time)}</div>
      <div class="story-card-title">${item.title || 'Untitled'}</div>
      <div class="story-card-domain">${getDomain(item.url)}</div>
      <div class="story-card-footer">
        <span class="pts-badge">â–² ${item.score || 0}</span>
        <span class="cmts">ğŸ’¬ ${item.descendants || 0}</span>
      </div>
    </a>`;
}

function rankRowHTML(item, i) {
  if (!item) return '';
  const link = item.url || `https://news.ycombinator.com/item?id=${item.id}`;
  const cls = i === 0 ? 'gold' : i === 1 ? 'silver' : '';
  return `
    <a class="rank-row fade" href="${link}" target="_blank" rel="noopener">
      <span class="rank-n ${cls}">${i+1}</span>
      <div class="rank-body">
        <div class="rank-title">${item.title}</div>
        <div class="rank-meta">${getDomain(item.url)} Â· ${timeAgo(item.time)} Â· by ${item.by || ''}</div>
      </div>
      <span class="rank-pts">â–²${item.score||0}</span>
    </a>`;
}

function fullCardHTML(item, rank) {
  if (!item) return '';
  const link = item.url || `https://news.ycombinator.com/item?id=${item.id}`;
  const domain = getDomain(item.url);
  const id = `card-thumb-${item.id}`;
  return `
    <a class="full-card fade" href="${link}" target="_blank" rel="noopener" data-url="${item.url||''}" data-id="${item.id}">
      <div class="full-card-num">${rank + 1}</div>
      <div class="full-card-favicon-wrap" id="wrap-${item.id}">
        <img src="${FAV(domain)}" width="24" height="24" style="border-radius:4px" onerror="this.style.display='none'" alt="">
      </div>
      <div class="full-card-body">
        <div class="full-card-title">${item.title || 'Untitled'}</div>
        <div class="full-card-meta">
          <span class="full-card-pts">â–² ${item.score||0}</span>
          <span>ğŸ’¬ ${item.descendants||0}</span>
          <span>${domain}</span>
          <span>by ${item.by||''}</span>
        </div>
      </div>
    </a>`;
}

// Lazily fetch thumbnails via microlink for visible cards
const thumbCache = {};
const thumbObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (!entry.isIntersecting) return;
    const card = entry.target;
    const url = card.dataset.url;
    const id = card.dataset.id;
    if (!url || !id || thumbCache[id]) return;
    thumbCache[id] = true;
    thumbObserver.unobserve(card);
    fetch(`https://api.microlink.io/?url=${encodeURIComponent(url)}&meta=false`)
      .then(r => r.json())
      .then(data => {
        const imgUrl = data?.data?.image?.url || data?.data?.screenshot?.url;
        if (!imgUrl) return;
        const wrap = document.getElementById(`wrap-${id}`);
        if (!wrap) return;
        const img = document.createElement('img');
        img.className = 'full-card-thumb';
        img.setAttribute('data-loading', '1');
        img.src = imgUrl;
        img.alt = '';
        img.onload = () => { img.removeAttribute('data-loading'); wrap.replaceWith(img); };
        img.onerror = () => {};
      })
      .catch(() => {});
  });
}, { rootMargin: '200px' });

function observeCards() {
  document.querySelectorAll('.full-card[data-url]').forEach(card => {
    if (!card.dataset.url) return;
    if (!thumbCache[card.dataset.id]) thumbObserver.observe(card);
  });
}

// â”€â”€ HELPERS â”€â”€
const FAV = d => `https://www.google.com/s2/favicons?domain=${d}&sz=64`;
function getDomain(url) {
  if (!url) return 'news.ycombinator.com';
  try { return new URL(url).hostname.replace('www.', ''); }
  catch { return ''; }
}
function timeAgo(unix) {
  if (!unix) return '';
  const d = Math.floor((Date.now() - unix * 1000) / 1000);
  if (d < 60) return `${d}s ago`;
  if (d < 3600) return `${Math.floor(d/60)}m ago`;
  if (d < 86400) return `${Math.floor(d/3600)}h ago`;
  return `${Math.floor(d/86400)}d ago`;
}

// â”€â”€ RENDER HERO (TREEMAP) â”€â”€
function tmCardHTML(s, slotClass, rank) {
  if (!s) return `<div class="tm-skel ${slotClass}"></div>`;
  const link = s.url || `https://news.ycombinator.com/item?id=${s.id}`;
  const domain = getDomain(s.url);
  return `
    <a class="tm-card ${slotClass} fade" href="${link}" target="_blank" rel="noopener">
      <img class="tm-favicon" src="${FAV(domain)}" alt="" onerror="this.style.display='none'">
      <span class="tm-rank">#${rank}</span>
      <div class="tm-title">${s.title||'Untitled'}</div>
      <div class="tm-meta">
        <span class="tm-pts">â–² ${s.score||0}</span>
        <span>ğŸ’¬ ${s.descendants||0}</span>
        <span class="tm-domain">${domain}</span>
      </div>
    </a>`;
}

function renderHero(stories) {
  const slots = ['tm-slot-1','tm-slot-2','tm-slot-3','tm-slot-4','tm-slot-5'];
  document.getElementById('heroTreemap').innerHTML =
    stories.slice(0,5).map((s,i) => tmCardHTML(s, slots[i], i+1)).join('');
}

// â”€â”€ LOAD HOME FEED â”€â”€
async function loadHome(feed, label) {
  currentFeed = feed;
  currentFeedLabel = label;
  loadedCount = 0;

  document.getElementById('storyTableTitle').textContent = label;
  document.getElementById('storyCountBadge').textContent = '';
  document.getElementById('loadMoreBtn').style.display = 'none';
  document.getElementById('storyTableList').innerHTML = '<div class="skel skel-row"></div>'.repeat(8);
  document.getElementById('heroTreemap').innerHTML =
    ['tm-slot-1','tm-slot-2','tm-slot-3','tm-slot-4','tm-slot-5']
      .map(s => `<div class="tm-skel ${s}"></div>`).join('');

  try {
    allFeedIds = await getFeedIds(feed);
    const first = (await fetchBatch(allFeedIds.slice(0, 30))).filter(Boolean);
    loadedCount = 30;
    renderHero(first);
    document.getElementById('storyTableList').innerHTML = '';
    first.slice(5).forEach((s, i) => {
      document.getElementById('storyTableList').insertAdjacentHTML('beforeend', fullCardHTML(s, i + 5));
    });
    observeCards();
    const remaining = allFeedIds.length - loadedCount;
    document.getElementById('storyCountBadge').textContent = `${loadedCount} / ${allFeedIds.length}`;
    document.getElementById('loadMoreBtn').style.display = remaining > 0 ? 'block' : 'none';
    document.getElementById('loadMoreBtn').textContent = `Load More  (${remaining} remaining)`;
  } catch(e) {
    document.getElementById('storyTableList').innerHTML = `<div class="loading-text">Error: ${e.message}</div>`;
  }
}

// â”€â”€ LOAD MORE (inline table) â”€â”€
async function loadMoreStories() {
  const btn = document.getElementById('loadMoreBtn');
  btn.disabled = true;
  btn.textContent = 'Loadingâ€¦';

  try {
    const nextIds = allFeedIds.slice(loadedCount, loadedCount + PAGE_SIZE);
    if (!nextIds.length) {
      btn.textContent = 'No more stories';
      return;
    }
    const items = (await fetchBatch(nextIds)).filter(Boolean);
    const list = document.getElementById('storyTableList');
    items.forEach((item, i) => {
      list.insertAdjacentHTML('beforeend', fullCardHTML(item, loadedCount + i));
    });
    loadedCount += items.length;
    observeCards();
    const remaining = allFeedIds.length - loadedCount;
    document.getElementById('storyCountBadge').textContent = `${loadedCount} / ${allFeedIds.length}`;
    if (remaining > 0) {
      btn.textContent = `Load More  (${remaining} remaining)`;
      btn.disabled = false;
    } else {
      btn.textContent = 'All stories loaded';
      btn.disabled = true;
    }
  } catch(e) {
    btn.textContent = 'Error â€” Try Again';
    btn.disabled = false;
  }
}

// â”€â”€ VIEW SWITCHING â”€â”€
function showView(view) {
  document.getElementById('homeView').style.display = view === 'search' ? 'none' : '';
  document.getElementById('searchSection').style.display = view === 'search' ? '' : 'none';
}

// â”€â”€ SEARCH (Algolia HN API â€” free, unlimited) â”€â”€
let searchTimer;
document.getElementById('searchInput').addEventListener('input', e => {
  clearTimeout(searchTimer);
  const q = e.target.value.trim();
  if (!q) { showView('home'); return; }
  searchTimer = setTimeout(async () => {
    showView('search');
    document.getElementById('searchTitle').textContent = `Results for "${q}"`;
    const grid = document.getElementById('searchGrid');
    grid.innerHTML = '<div class="loading-text">Searchingâ€¦</div>';
    try {
      const res = await fetch(`${ALGOLIA}/search?query=${encodeURIComponent(q)}&hitsPerPage=18`);
      const data = await res.json();
      grid.innerHTML = data.hits.map(h => {
        const link = h.url || `https://news.ycombinator.com/item?id=${h.objectID}`;
        return `
          <a class="result-card fade" href="${link}" target="_blank" rel="noopener">
            <div class="result-card-title">${h.title || h.story_title || 'Untitled'}</div>
            <div class="result-card-domain">${getDomain(h.url)}</div>
            <div class="result-card-footer">
              <span style="color:var(--accent);font-weight:600">â–² ${h.points||0}</span>
              <span>ğŸ’¬ ${h.num_comments||0}</span>
              <span>${h.author||''}</span>
            </div>
          </a>`;
      }).join('') || '<div class="loading-text">No results found.</div>';
    } catch {
      grid.innerHTML = '<div class="loading-text">Search failed.</div>';
    }
  }, 500);
});

// â”€â”€ NAV TABS â”€â”€
document.querySelectorAll('.nav-tab').forEach(tab => {
  tab.addEventListener('click', () => {
    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    document.getElementById('searchInput').value = '';
    loadHome(tab.dataset.feed, tab.dataset.label);
  });
});

// â”€â”€ LOAD MORE â”€â”€
document.getElementById('loadMoreBtn').addEventListener('click', loadMoreStories);

// â”€â”€ THEME TOGGLE â”€â”€
const toggle = document.getElementById('themeToggle');
let isDark = true;
toggle.addEventListener('click', () => {
  isDark = !isDark;
  document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
  toggle.textContent = isDark ? 'ğŸŒ™' : 'â˜€ï¸';
});

// â”€â”€ INIT â”€â”€
loadHome('topstories', 'ğŸ”¥ Top Stories');
</script>


<!-- FOOTER -->
<footer class="site-footer">
  <span class="footer-brand">HN Reader</span>
  <div class="footer-links">
    <a class="footer-link" onclick="openModal('about')">About</a>
    <a class="footer-link" onclick="openModal('privacy')">Privacy Policy</a>
    <a class="footer-link" onclick="openModal('terms')">Terms of Use</a>
    <a class="footer-link" onclick="openModal('disclaimer')">Disclaimer</a>
    <a class="footer-link" href="https://news.ycombinator.com" target="_blank" rel="noopener">Original HN â†—</a>
  </div>
  <span>Â© 2025 HN Reader Â· Not affiliated with Y Combinator</span>
</footer>

<!-- ABOUT MODAL -->
<div class="modal-overlay" id="modal-about">
  <div class="modal-box">
    <button class="modal-close" onclick="closeModal('about')">âœ•</button>
    <div class="modal-title">About HN Reader</div>
    <div class="modal-updated">Last updated: February 2025</div>
    <div class="modal-body">
      <p>HN Reader is a beautiful, fast, and free reader for <a href="https://news.ycombinator.com" target="_blank">Hacker News</a> â€” one of the most influential tech communities on the internet.</p>
      <h3>What is HN Reader?</h3>
      <p>HN Reader is an unofficial third-party web application that presents Hacker News content with an improved reading experience. We fetch stories directly from the official Hacker News Firebase API â€” the same data you see on news.ycombinator.com.</p>
      <h3>Data Source</h3>
      <p>All content is sourced from the public Hacker News API (<code>hacker-news.firebaseio.com</code>), which is free and unlimited. Search is powered by the Algolia HN Search API. HN Reader does not store or cache your reading data on any server.</p>
      <h3>Not affiliated with Y Combinator</h3>
      <p>HN Reader is an independent project and is not affiliated with, endorsed by, or connected to Y Combinator or Hacker News in any way. "Hacker News" is a trademark of Y Combinator.</p>
      <h3>Contact</h3>
      <p>For questions or feedback, reach out via the Hacker News community or open an issue on the project repository.</p>
    </div>
  </div>
</div>

<!-- PRIVACY POLICY MODAL -->
<div class="modal-overlay" id="modal-privacy">
  <div class="modal-box">
    <button class="modal-close" onclick="closeModal('privacy')">âœ•</button>
    <div class="modal-title">Privacy Policy</div>
    <div class="modal-updated">Last updated: February 2025</div>
    <div class="modal-body">
      <p>Your privacy is important to us. This policy explains what data HN Reader collects, if any, and how it is used.</p>
      <h3>Data We Do Not Collect</h3>
      <p>HN Reader does not collect, store, or transmit any personally identifiable information. We do not require you to create an account, log in, or provide any personal details to use the service.</p>
      <h3>Local Storage</h3>
      <p>HN Reader may use your browser's local storage to remember preferences such as dark/light theme. This data never leaves your device and is not shared with any third party.</p>
      <h3>Third-Party APIs</h3>
      <p>HN Reader fetches content from the public Hacker News API and Algolia Search API. When you use the search feature, your search query is sent to Algolia's servers. Please refer to <a href="https://www.algolia.com/policies/privacy/" target="_blank">Algolia's Privacy Policy</a> for details.</p>
      <h3>Google AdSense</h3>
      <p>HN Reader may display advertisements served by Google AdSense. Google may use cookies to show you relevant ads based on your browsing history. You can opt out via <a href="https://adssettings.google.com" target="_blank">Google Ad Settings</a>. Google's use of advertising cookies is governed by <a href="https://policies.google.com/privacy" target="_blank">Google's Privacy Policy</a>.</p>
      <h3>Analytics</h3>
      <p>HN Reader may use anonymized analytics to understand general usage patterns such as page views and feature usage. No personally identifiable information is collected through analytics.</p>
      <h3>Cookies</h3>
      <p>HN Reader itself does not set any tracking cookies. Third-party services (Google AdSense, Algolia) may set their own cookies as described in their respective privacy policies.</p>
      <h3>Changes to This Policy</h3>
      <p>We may update this policy from time to time. Continued use of HN Reader after changes constitutes acceptance of the updated policy.</p>
    </div>
  </div>
</div>

<!-- TERMS OF USE MODAL -->
<div class="modal-overlay" id="modal-terms">
  <div class="modal-box">
    <button class="modal-close" onclick="closeModal('terms')">âœ•</button>
    <div class="modal-title">Terms of Use</div>
    <div class="modal-updated">Last updated: February 2025</div>
    <div class="modal-body">
      <p>By using HN Reader, you agree to these terms. Please read them carefully.</p>
      <h3>Use of Service</h3>
      <p>HN Reader is provided free of charge for personal, non-commercial use. You may use HN Reader to browse Hacker News content for informational and educational purposes.</p>
      <h3>Content Ownership</h3>
      <p>All stories, comments, and links displayed on HN Reader are the property of their respective authors and are sourced from Hacker News. HN Reader does not claim ownership of any content. "Hacker News" and the Y Combinator name and logo are trademarks of Y Combinator.</p>
      <h3>Prohibited Use</h3>
      <p>You may not use HN Reader to: scrape or mass-download content, attempt to reverse-engineer or disrupt the service, use the service for any unlawful purpose, or violate any applicable laws or regulations.</p>
      <h3>No Warranty</h3>
      <p>HN Reader is provided "as is" without any warranties of any kind. We do not guarantee that the service will be available at all times, error-free, or that the content will be accurate or complete.</p>
      <h3>Limitation of Liability</h3>
      <p>To the fullest extent permitted by law, HN Reader shall not be liable for any indirect, incidental, or consequential damages arising from your use of the service.</p>
      <h3>Changes to Terms</h3>
      <p>We reserve the right to modify these terms at any time. Continued use of HN Reader after changes constitutes acceptance of the updated terms.</p>
    </div>
  </div>
</div>

<!-- DISCLAIMER MODAL -->
<div class="modal-overlay" id="modal-disclaimer">
  <div class="modal-box">
    <button class="modal-close" onclick="closeModal('disclaimer')">âœ•</button>
    <div class="modal-title">Disclaimer</div>
    <div class="modal-updated">Last updated: February 2025</div>
    <div class="modal-body">
      <p>HN Reader is an independent, unofficial reader for Hacker News. Please read the following disclaimers carefully.</p>
      <h3>Not Affiliated with Y Combinator</h3>
      <p>HN Reader is not affiliated with, sponsored by, or endorsed by Y Combinator Inc. or Hacker News. This is a third-party tool built using the publicly available Hacker News API.</p>
      <h3>Content Accuracy</h3>
      <p>All content displayed on HN Reader is fetched directly from the Hacker News API. We make no representations about the accuracy, completeness, or reliability of any content. Stories and comments represent the views of their authors, not HN Reader.</p>
      <h3>External Links</h3>
      <p>HN Reader links to external websites. We have no control over the content of those sites and accept no responsibility for their content, privacy practices, or availability.</p>
      <h3>Advertising</h3>
      <p>HN Reader may display third-party advertisements. The presence of an advertisement does not constitute an endorsement of the advertiser or their products and services.</p>
      <h3>Availability</h3>
      <p>HN Reader depends on the availability of the Hacker News API. We cannot guarantee uninterrupted access to the service.</p>
    </div>
  </div>
</div>

<script>
function openModal(name) {
  document.getElementById('modal-' + name).classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closeModal(name) {
  document.getElementById('modal-' + name).classList.remove('open');
  document.body.style.overflow = '';
}
// Close on overlay click
document.querySelectorAll('.modal-overlay').forEach(el => {
  el.addEventListener('click', e => { if (e.target === el) { el.classList.remove('open'); document.body.style.overflow = ''; } });
});
// Close on Escape
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') { document.querySelectorAll('.modal-overlay.open').forEach(m => { m.classList.remove('open'); document.body.style.overflow = ''; }); }
});
</script>

</body>
</html>
